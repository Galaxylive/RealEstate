{% extends "core/base.html" %}
{% load bootstrap3 %}
{% bootstrap_javascript jquery=2 %}
{% bootstrap_css %}
{% load staticfiles %}

{% block style %}
<script src="{% static "slide.js" %}"></script>
<link rel="stylesheet" type="text/css" href="{% static "slide.css" %}">
<style>
    .slider-selection {
    	background: #BABABA;
    }
    .vcenter {
      display: inline-block;
      vertical-align: middle;
      float: none;
      margin-left:-3px;
    }
</style>
{% endblock %}

{% block body %}
    <h2><strong> Evaluation for {{house}}</strong> </h2>
    <h4><em>{{house.address}}</em></h4>
  	<ul style="margin-top:50px" class="list-group">
	  	{% for category, score in grades %}
			<li class="list-group-item">
				<div class="row">
					<div class="col-sm-6 vcenter">
						<h4>{{category.summary}}</h4>
						<p>
							{% if not category.description %}
								<em>No Description</em>
							{% else %}
								{{ category.description }}
							{% endif %}
						</p>
					</div>
					<div class="col-sm-6 vcenter">
							<div>
							  <center>
							  <span style="padding-right: 15px">Bad </span>
							  <input id={{category.summary}} class='soso slide' data-slider-id='slide' type="text" data-slider-min="1" data-slider-max="5" data-slider-step="1" data-slider-value="{% if not score %}3{% else %}{{ score }}{% endif %}"/>
							  <span style="padding-left: 15px">Good</span>
								</center>
							</div>
					</div>
				</div>
	   	</li>
		{% endfor %}
  	</ul>
  	<form style="margin-bottom:20px" action="{% url 'eval' %}" role="form" method="post">
	  {% bootstrap_form form%}
	  {% csrf_token %}
	  <div style="margin-top: 40px">
	  <center>
	    {% buttons submit='Save Evaluation' %}{% endbuttons %}
	   </center>
	  </div>
	</form>
{% endblock %}

{% block scripts %}
  <script>
    $(".slide").slider({
    	formatter: function(value) {
    	  switch(value){
    	  case 1: return "Very Bad";
        case 2: return "Bad";
        case 3: return "Average";
        case 4: return "Good";
        default: return "Very Good";
    	  }
    	}
    });
    $(".slide").on("change", function(slideEvt) {
    	var category = $(this).attr("id");
    	console.log(slideEvt.value.newValue);
    	$("#id_"+category).val( slideEvt.value.newValue );
    });
  </script>
{% endblock %}
